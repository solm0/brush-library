<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.9.0/lib/p5.min.js"></script>
</head>
<body>
    <script>
        let drawing = false; // 마우스 드래그 상태 확인
let points = []; // 그린 점의 좌표 저장
 
let fillColor; // 도형 내부의 색상

function setup() {
  createCanvas(windowWidth, windowHeight);
  filter(DILATE);
  
  fillColor = random([color(193,141,79,5),color(44,134,134, 5)]);
   background(220);
  
}

function draw() {


  // 그린 점들을 연결한 선 그리기
  noFill();
  let sW = 25;
  
  
  strokeCap(SQUARE);
  

  if (mouseIsPressed === true) {
    
  stroke('red');
  strokeWeight(sW);
  line(pmouseX, pmouseY, mouseX, mouseY);
  
  stroke(225,225,216);
  strokeWeight(sW * 0.8);
  line(pmouseX, pmouseY, mouseX, mouseY);

  stroke('black');
  strokeWeight(sW * 0.6);
  line(pmouseX, pmouseY, mouseX, mouseY);
  
   stroke(225,225,216);
  strokeWeight(sW * 0.4);
  line(pmouseX, pmouseY, mouseX, mouseY);
  
  stroke('red');
  strokeWeight(sW * 0.1);
  line(pmouseX, pmouseY, mouseX, mouseY);
    
  }


  
  
  beginShape();
  for (let pt of points) {
    vertex(pt.x, pt.y);
  }
  endShape();

  // 도형이 닫혀있을 때, 내부를 fillColor로 채우기
  if (drawing && points.length > 1) {
  
    fill(fillColor);
    noStroke();
    filter(DILATE);
    blendMode(DIFFERENCE);
    beginShape();
    for (let pt of points) {
      vertex(pt.x, pt.y);
    }
    endShape(CLOSE);
  }
}

function mousePressed() {
  drawing = true;
}


function mouseDragged() {
  // 마우스 드래그 중에 그린 점의 좌표를 배열에 추가
  if (drawing) {
    points.push(createVector(mouseX, mouseY));
  }
}

    </script>
</body>
</html>